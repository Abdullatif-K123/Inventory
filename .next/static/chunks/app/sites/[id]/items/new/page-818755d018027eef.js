(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{8325:(e,a,t)=>{Promise.resolve().then(t.bind(t,1756))},5828:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{callServer:function(){return l.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return n.findSourceMapURL}});let l=t(9603),n=t(3355),s=t(4979).createServerReference},1756:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var l=t(5155),n=t(2115),s=t(5828);let r=(0,s.createServerReference)("70f4ca2f1ac1fc81a6b5aa6d93a03ccff54fd9d32d",s.callServer,void 0,s.findSourceMapURL,"createItem"),c={message:""};function i(e){let{siteId:a}=e,[t,s]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[d,m,u]=(0,n.useActionState)(r,c),f=r.bind(null,a,i),x=async e=>{if(e.preventDefault(),console.log("onSubmitCreateSite"),t){console.log("file exists");try{let e=new FormData;e.set("file",t);let a=await fetch("/api/upload",{method:"POST",body:e}),{success:l,path:n}=await a.json();if(console.log(l,n),o(n),console.log("....",i),!a.ok)throw Error(await a.text())}catch(e){console.error(e)}}};return(0,l.jsxs)("form",{action:f,children:[(0,l.jsx)("h3",{className:"font-bold m-3",children:"Create Item"}),(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsxs)("div",{className:"flex gap-5",children:[(0,l.jsx)("label",{htmlFor:"item_name",className:"break-normal w-12",children:"Item Name"}),(0,l.jsx)("input",{name:"item_name",id:"item_name",className:"border rounded p-2 w-full"})]}),(0,l.jsxs)("div",{className:"flex gap-10",children:[(0,l.jsx)("label",{htmlFor:"image",className:"w-12",children:"Image"}),(0,l.jsx)("input",{name:"file",type:"file",accept:"image/*",onChange:e=>{var a;return s((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)}}),(0,l.jsx)("button",{type:"button",onClick:x,children:"Upload"})]}),(0,l.jsxs)("div",{className:"flex gap-10",children:[(0,l.jsx)("label",{htmlFor:"last_maintenance_date",className:"w-12",children:"Last maintenence Date"}),(0,l.jsx)("input",{type:"date",name:"last_maintenance_date"})]}),(0,l.jsxs)("div",{className:"flex gap-10",children:[(0,l.jsx)("label",{htmlFor:"next_maintenance_date",className:"w-12",children:"Next maintenence Date"}),(0,l.jsx)("input",{type:"date",name:"next_maintenance_date"})]}),(0,l.jsxs)("div",{className:"flex gap-5",children:[(0,l.jsx)("label",{htmlFor:"notes",className:"w-12",children:"Notes"}),(0,l.jsx)("textarea",{className:"border w-full",name:"notes"})]}),(0,l.jsx)("button",{type:"submit",className:"rounded p-2 bg-blue-200",children:"Save"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,517,358],()=>a(8325)),_N_E=e.O()}]);