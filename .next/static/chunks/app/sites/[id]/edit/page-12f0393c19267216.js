(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{3228:(e,t,r)=>{Promise.resolve().then(r.bind(r,9054))},5828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return l.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return n.findSourceMapURL}});let l=r(9603),n=r(3355),s=r(4979).createServerReference},9054:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var l=r(5155),n=r(2115),s=r(5828);let o=(0,s.createServerReference)("605d69a76c9123a0f65f746b0853ccd4cf76177239",s.callServer,void 0,s.findSourceMapURL,"editSite"),a={message:""};function i(e){let{site:t}=e,[r,s,i]=(0,n.useActionState)(o,a),c=o.bind(null,t.id),[d,u]=(0,n.useState)(null),[f,m]=(0,n.useState)(t.fileUrl),b=async e=>{if(e.preventDefault(),console.log("onSubmitCreateSite"),d){console.log("file exists");try{let e=new FormData;e.set("file",d);let t=await fetch("/api/upload",{method:"POST",body:e}),{success:r,path:l}=await t.json();if(console.log(r,l),m(l),console.log("....",f),!t.ok)throw Error(await t.text())}catch(e){console.error(e)}}};return(0,l.jsxs)("form",{action:c,children:[(0,l.jsxs)("div",{className:"flex flex-col mt-10 ",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Edit site"}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-5 border border-gray-300 p-5 rounded-lg mb-4",children:[(0,l.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,l.jsx)("label",{htmlFor:"site_name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Site Name"}),(0,l.jsx)("input",{name:"site_name",id:"site_name",defaultValue:t.site_name,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 "})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("p",{className:"font-semibold mb-3",children:"Attachment"}),(0,l.jsxs)("div",{className:"flex gap-x-4",children:[(0,l.jsx)("div",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-1/2 p-2.5",children:(0,l.jsx)("input",{name:"file",type:"file",accept:".pdf",onChange:e=>{var t;return u((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})}),(0,l.jsx)("button",{type:"button",onClick:b,className:"text-white bg-[#2557D6] hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center",children:"Upload"})]})]})]})]}),(0,l.jsx)("button",{type:"submit",className:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-[14px] px-5 py-2.5",children:"Save Settings"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3228)),_N_E=e.O()}]);