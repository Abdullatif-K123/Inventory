(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{3645:(e,t,r)=>{Promise.resolve().then(r.bind(r,7067))},5828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return o},findSourceMapURL:function(){return l.findSourceMapURL}});let n=r(9603),l=r(3355),o=r(4979).createServerReference},7067:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(5155),l=r(2115),o=r(5828);let s=(0,o.createServerReference)("6059edec6b7693ec8e3e43b457708d70509ca19082",o.callServer,void 0,o.findSourceMapURL,"createSite"),a={message:""};function c(){let[e,t]=(0,l.useState)(null),[r,o]=(0,l.useState)(null),[c,i,u]=(0,l.useActionState)(s,a),d=async t=>{if(t.preventDefault(),console.log("onSubmitCreateSite"),e){console.log("file exists");try{let t=new FormData;t.set("file",e);let n=await fetch("/api/upload",{method:"POST",body:t}),{success:l,path:s}=await n.json();if(console.log(l,s),o(s),console.log("....",r),!n.ok)throw Error(await n.text())}catch(e){console.error(e)}}},f=s.bind(null,r);return(0,n.jsx)("div",{className:"mt-10",children:(0,n.jsxs)("form",{action:f,children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Create site"}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-5 border border-gray-300 p-5 rounded-lg mb-4",children:[(0,n.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,n.jsx)("label",{htmlFor:"site_name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Site Name"}),(0,n.jsx)("input",{type:"text",name:"site_name",id:"site_name",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",placeholder:"John",required:!0})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)("p",{className:"font-semibold mb-3",children:"Attachment"}),(0,n.jsxs)("div",{className:"flex gap-x-4",children:[(0,n.jsx)("div",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-1/2 p-2.5",children:(0,n.jsx)("input",{name:"attachment",type:"file",accept:".pdf",onChange:e=>{var r;return t((null===(r=e.target.files)||void 0===r?void 0:r[0])||null)}})}),(0,n.jsx)("button",{className:"text-white bg-[#2557D6] hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center",type:"button",onClick:d,children:"Upload"})]})]})]}),(0,n.jsx)("button",{type:"submit",className:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-[14px] px-5 py-2.5",children:"Save Settings"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3645)),_N_E=e.O()}]);