(()=>{var e={};e.id=119,e.ids=[119],e.modules={6330:e=>{"use strict";e.exports=require("@prisma/client")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},6730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=a(260),s=a(8203),r=a(5155),i=a.n(r),l=a(7292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["sites",{children:["[id]",{children:["items",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2756)),"C:\\Users\\USER\\Desktop\\inventory\\src\\app\\sites\\[id]\\items\\new\\page.tsx"]}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1354)),"C:\\Users\\USER\\Desktop\\inventory\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\USER\\Desktop\\inventory\\src\\app\\sites\\[id]\\items\\new\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/sites/[id]/items/new/page",pathname:"/sites/[id]/items/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"40d49f487d3fe321265a1a994fdf88a0f8be87825d":()=>d,"6059edec6b7693ec8e3e43b457708d70509ca19082":()=>l,"605d69a76c9123a0f65f746b0853ccd4cf76177239":()=>o,"60fc39bb13bd31693a082ce8c1511055d44b4e3ab8":()=>u,"70f4ca2f1ac1fc81a6b5aa6d93a03ccff54fd9d32d":()=>c,"78a6e7a819dd2ecc46523dfd512ae2d4ac09c27501":()=>m});var n=a(1590);a(376);let s=new(a(6330)).PrismaClient;var r=a(7735),i=a(9184);async function l(e,t){if(console.log("create site"),!e)return;let a=t.get("site_name");console.log(a),console.log(await s.site.create({data:{site_name:a,fileUrl:e}})),(0,r.revalidatePath)("/"),(0,i.redirect)("/")}async function o(e,t){console.log("editSite");let a=t.get("site_name");console.log("new site name",a),await s.site.update({where:{id:e},data:{site_name:a}}),(0,r.revalidatePath)(`/sites/${e}`),(0,i.redirect)(`/sites/${e}`)}async function d(e){await s.site.delete({where:{id:e}}),(0,r.revalidatePath)("/"),(0,i.redirect)("/")}async function c(e,t,a){if(console.log("create item"),console.log(a),!t)return;let n=a.get("next_maintenance_date"),l=a.get("last_maintenance_date"),o={item_name:a.get("item_name"),notes:a.get("notes"),last_maintenance_date:l?new Date(l):null,next_maintenance_date:n?new Date(n):null,fileUrl:t,site:{connect:{id:e}}};console.log(await s.item.create({data:o})),(0,r.revalidatePath)(`/sites/${e}`),(0,i.redirect)(`/sites/${e}`)}async function m(e,t,a,n){if(console.log("editItem"),console.log(n),!a)return;let l=n.get("next_maintenance_date"),o=n.get("last_maintenance_date"),d={item_name:n.get("item_name"),notes:n.get("notes"),last_maintenance_date:o?new Date(o):null,next_maintenance_date:l?new Date(l):null,fileUrl:a,site:{connect:{id:t}}};await s.item.update({where:{id:e},data:d}),(0,r.revalidatePath)(`/sites/${t}`),(0,i.redirect)(`/sites/${t}`)}async function u(e,t){await s.item.delete({where:{id:t}}),(0,r.revalidatePath)(`/sites/${e}`),(0,i.redirect)(`/sites/${e}`)}(0,a(9344).D)([l,o,d,c,m,u]),(0,n.A)(l,"6059edec6b7693ec8e3e43b457708d70509ca19082",null),(0,n.A)(o,"605d69a76c9123a0f65f746b0853ccd4cf76177239",null),(0,n.A)(d,"40d49f487d3fe321265a1a994fdf88a0f8be87825d",null),(0,n.A)(c,"70f4ca2f1ac1fc81a6b5aa6d93a03ccff54fd9d32d",null),(0,n.A)(m,"78a6e7a819dd2ecc46523dfd512ae2d4ac09c27501",null),(0,n.A)(u,"60fc39bb13bd31693a082ce8c1511055d44b4e3ab8",null)},4628:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,9607,23))},7364:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,8531,23))},8361:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3219,23)),Promise.resolve().then(a.t.bind(a,4863,23)),Promise.resolve().then(a.t.bind(a,5155,23)),Promise.resolve().then(a.t.bind(a,802,23)),Promise.resolve().then(a.t.bind(a,9350,23)),Promise.resolve().then(a.t.bind(a,8530,23)),Promise.resolve().then(a.t.bind(a,8921,23))},4809:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6959,23)),Promise.resolve().then(a.t.bind(a,3875,23)),Promise.resolve().then(a.t.bind(a,1284,23)),Promise.resolve().then(a.t.bind(a,7174,23)),Promise.resolve().then(a.t.bind(a,4178,23)),Promise.resolve().then(a.t.bind(a,7190,23)),Promise.resolve().then(a.t.bind(a,1365,23))},6643:(e,t,a)=>{Promise.resolve().then(a.bind(a,8117))},2299:(e,t,a)=>{Promise.resolve().then(a.bind(a,3612))},3612:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var n=a(5512),s=a(8009),r=a(6248);let i=(0,r.createServerReference)("70f4ca2f1ac1fc81a6b5aa6d93a03ccff54fd9d32d",r.callServer,void 0,r.findSourceMapURL,"createItem"),l={message:""};function o({siteId:e}){let[t,a]=(0,s.useState)(null),[r,o]=(0,s.useState)(null),[d,c,m]=(0,s.useActionState)(i,l),u=i.bind(null,e,r),f=async e=>{if(e.preventDefault(),console.log("onSubmitCreateSite"),t){console.log("file exists");try{let e=new FormData;e.set("file",t);let a=await fetch("/api/upload",{method:"POST",body:e}),{success:n,path:s}=await a.json();if(console.log(n,s),o(s),console.log("....",r),!a.ok)throw Error(await a.text())}catch(e){console.error(e)}}};return(0,n.jsxs)("form",{action:u,children:[(0,n.jsx)("h3",{className:"font-bold m-3",children:"Create Item"}),(0,n.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,n.jsxs)("div",{className:"flex gap-5",children:[(0,n.jsx)("label",{htmlFor:"item_name",className:"break-normal w-12",children:"Item Name"}),(0,n.jsx)("input",{name:"item_name",id:"item_name",className:"border rounded p-2 w-full"})]}),(0,n.jsxs)("div",{className:"flex gap-10",children:[(0,n.jsx)("label",{htmlFor:"image",className:"w-12",children:"Image"}),(0,n.jsx)("input",{name:"file",type:"file",accept:"image/*",onChange:e=>a(e.target.files?.[0]||null)}),(0,n.jsx)("button",{type:"button",onClick:f,children:"Upload"})]}),(0,n.jsxs)("div",{className:"flex gap-10",children:[(0,n.jsx)("label",{htmlFor:"last_maintenance_date",className:"w-12",children:"Last maintenence Date"}),(0,n.jsx)("input",{type:"date",name:"last_maintenance_date"})]}),(0,n.jsxs)("div",{className:"flex gap-10",children:[(0,n.jsx)("label",{htmlFor:"next_maintenance_date",className:"w-12",children:"Next maintenence Date"}),(0,n.jsx)("input",{type:"date",name:"next_maintenance_date"})]}),(0,n.jsxs)("div",{className:"flex gap-5",children:[(0,n.jsx)("label",{htmlFor:"notes",className:"w-12",children:"Notes"}),(0,n.jsx)("textarea",{className:"border w-full",name:"notes"})]}),(0,n.jsx)("button",{type:"submit",className:"rounded p-2 bg-blue-200",children:"Save"})]})]})}},1354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,metadata:()=>c});var n=a(2740),s=a(2376),r=a.n(s),i=a(8726),l=a.n(i);a(1135);var o=a(9607),d=a.n(o);let c={title:"Create Next App",description:"Generated by create next app"};function m({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsxs)("body",{className:`${r().variable} ${l().variable} antialiased h-screen bg-[#fafafa]`,children:[(0,n.jsx)("div",{className:"border-b-2 border-gray-200 bg-white",children:(0,n.jsx)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto py-4",children:(0,n.jsx)(d(),{href:"/",children:(0,n.jsx)("h1",{className:"text-2xl",children:"Inventory Logo"})})})}),(0,n.jsx)("div",{className:"max-w-screen-xl mx-auto",children:e})]})})}},2756:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(2740),s=a(8117);async function r(e){let{id:t}=await e.params,a=parseInt(t);return console.log(a),(0,n.jsx)(s.default,{siteId:a})}},8117:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});let n=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\inventory\\\\src\\\\components\\\\item-creation-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\inventory\\src\\components\\item-creation-form.tsx","default")},440:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[638,759,77,410],()=>a(6730));module.exports=n})();